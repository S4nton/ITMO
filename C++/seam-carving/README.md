# Seam carving

## Описание
**Seam carving** — это алгоритм для изменения размера изображения, который сохраняет важные элементы и удаляет менее значимые. Если смотреть на изображение как на таблицу из пикселей, то на каждой итерации данного алгоритма удаляется только один пиксель из колонки (или ряда).

Если переводить дословно, то “seam carving” это “резьба по шву”. Вертикальным “швом” изображения называется последовательность связанных пикселей от верхнего ряда до нижнего, где в каждом ряду только один пиксель. Аналогично, горизонтальным “швом” называется последовательность связанных пикселе от крайней левой колонки до крайней правой, где в каждой колонке только один пиксель.

### Алгоритм
1. На первом шаге потребуется вычислить энергию кажого пикселя. Энергия поможет определить, насколько важен пиксель. Пиксели с низкой энергией с большей вероятностью попадут в последовательность пикселей, которая будет удалена. Ниже представлена карта энергий для изображения:
   
   ![](data/text/energymap.png)

   Светлые пиксели — пиксели с высокой энергией. 

2. На втором этапе потребуется определить вертикальную последовательность пикселей с минимальной суммарной энергией. Данная задача похожа на задачу нахождения кратчайшего пути в взвешенном графе, но есть важные отличия:
   1. Веса находятся в вершинах, а не на ребрах.
   2. Кратчайший путь нужно найти среди любых *W* пикселей в верхнем ряду к любым *W* пикселям в нижнем ряду.
   3. Граф ациклический. Для пикселя *(x, y)* есть обратные ребра только из *(x - 1, y + 1)*, *(x, y + 1)*, *(x + 1, y + 1)*. Важно понимать, что если ребро идет в пиксель, чьи координаты находятся за пределами допустимых, то такое ребро должно быть проигнорировано.
   
   ![](data/text/energymapwithseam.png)
3. После того, как последовательность с минимальной суммарной энергией найдена, пиксели, входящие в нее, нужно будет удалить из изображения.
